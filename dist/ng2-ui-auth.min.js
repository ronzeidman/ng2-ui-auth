!function(a){function b(a,b,c){a in h||(h[a]={name:a,declarative:!0,deps:b,declare:c,normalizedDeps:b})}function c(a){return m[a]||(m[a]={name:a,dependencies:[],exports:{},importers:[]})}function d(b){if(!b.module){var e=b.module=c(b.name),f=b.module.exports,i=b.declare.call(a,function(a,b){if(e.locked=!0,"object"==typeof a)for(var c in a)f[c]=a[c];else f[a]=b;for(var d=0,g=e.importers.length;g>d;d++){var h=e.importers[d];if(!h.locked)for(var i=0;i<h.dependencies.length;++i)h.dependencies[i]===e&&h.setters[i](f)}return e.locked=!1,b},b.name);e.setters=i.setters,e.execute=i.execute;for(var j=0,k=b.normalizedDeps.length;k>j;j++){var l,n=b.normalizedDeps[j],o=h[n],p=m[n];p?l=p.exports:o&&!o.declarative?l=o.esModule:o?(d(o),p=o.module,l=p.exports):l=g(n),p&&p.importers?(p.importers.push(e),e.dependencies.push(p)):e.dependencies.push(null),e.setters[j]&&e.setters[j](l)}}}function e(a){var b={};if("object"==typeof a||"function"==typeof a)if(j){var c;for(var d in a)(c=Object.getOwnPropertyDescriptor(a,d))&&l(b,d,c)}else{var e=a&&a.hasOwnProperty;for(var d in a)(!e||a.hasOwnProperty(d))&&(b[d]=a[d])}return b["default"]=a,l(b,"__useDefault",{value:!0}),b}function f(b,c){var d=h[b];if(d&&!d.evaluated&&d.declarative){c.push(b);for(var e=0,j=d.normalizedDeps.length;j>e;e++){var k=d.normalizedDeps[e];-1==i.call(c,k)&&(h[k]?f(k,c):g(k))}d.evaluated||(d.evaluated=!0,d.module.execute.call(a))}}function g(a){if(o[a])return o[a];if("@node/"==a.substr(0,6))return n(a.substr(6));var b=h[a];if(!b)throw"Module "+a+" not present.";return d(h[a]),f(a,[]),h[a]=void 0,b.declarative&&l(b.module.exports,"__esModule",{value:!0}),o[a]=b.declarative?b.module.exports:b.esModule}var h={},i=Array.prototype.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},j=!0;try{Object.getOwnPropertyDescriptor({a:0},"a")}catch(k){j=!1}var l;!function(){try{Object.defineProperty({},"a",{})&&(l=Object.defineProperty)}catch(a){l=function(a,b,c){try{a[b]=c.value||c.get.call(a)}catch(d){}}}}();var m={},n="undefined"!=typeof System&&System._nodeRequire||"undefined"!=typeof require&&require.resolve&&"undefined"!=typeof process&&require,o={"@empty":{}};return function(a,c,d){return function(f){f(function(f){for(var h=0;h<c.length;h++)(function(a,b){b&&b.__esModule?o[a]=b:o[a]=e(b)})(c[h],arguments[h]);d({register:b});var i=g(a[0]);if(a.length>1)for(var h=1;h<a.length;h++)g(a[h]);return i.__useDefault?i["default"]:i})}}}("undefined"!=typeof self?self:global)(["1"],["6","7","f","8","e","10","11","12","13","14"],function(a){a.register("2",["6","3","4","7","5","8"],function(a){var b,c,d,e,f,g,h=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},i=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0};return{setters:[function(a){b=a},function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){}],execute:function(){g=function(){function a(a,b,c){this.http=a,this.shared=b,this.config=c}return a.prototype.login=function(a,b){var c=this;b=b||{};var d=b.url?b.url:f.joinUrl(this.config.baseUrl,this.config.loginUrl);return b.body=JSON.stringify(a)||b.body,b.method=b.method||"POST",this.http.request(d,b).map(function(a){return c.shared.setToken(a),a})},a.prototype.signup=function(a,b){b=b||{};var c=b.url?b.url:f.joinUrl(this.config.baseUrl,this.config.signupUrl);return b.body=JSON.stringify(a)||b.body,b.method=b.method||"POST",this.http.request(c,b)},a=h([b.Injectable(),i("design:paramtypes",[e.Http,c.Shared,d.Config])],a)}(),a("Local",g)}}}),a.register("9",["6","a","b","3","7","5","4","8"],function(a){var b,c,d,e,f,g,h,i,j=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},k=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0};return{setters:[function(a){b=a},function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a},function(a){}],execute:function(){i=function(){function a(a,b,c,d){this.http=a,this.injector=b,this.shared=c,this.config=d}return a.prototype.authenticate=function(a,b){var e=this,f="1.0"===this.config.providers[a].type?this.injector.get(c.Oauth1):this.injector.get(d.Oauth2);return f.open(this.config.providers[a],b||{}).map(function(b){return e.config.providers[a].url&&e.shared.setToken(b),b})},a.prototype.unlink=function(a,b){b=b||{};var c=b.url?b.url:g.joinUrl(this.config.baseUrl,this.config.unlinkUrl);return b.body=JSON.stringify({provider:a})||b.body,b.method=b.method||"POST",this.http.request(c,b)},a=j([b.Injectable(),k("design:paramtypes",[f.Http,b.Injector,e.Shared,h.Config])],a)}(),a("Oauth",i)}}}),a.register("b",["6","7","5","4","c","d","e"],function(a){var b,c,d,e,f,g,h,i=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},j=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0};return{setters:[function(a){b=a},function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){}],execute:function(){h=function(){function a(a,b,c,d){this.http=a,this.popup=b,this.storage=c,this.config=d}return a.prototype.open=function(b,c){var e=this;this.defaults=d.merge(b,a.base);var f,g,h=this.defaults.name+"_state",i=this.defaults.state;return"string"==typeof i?this.storage.set(h,i):"function"==typeof i&&this.storage.set(h,i()),f=[this.defaults.authorizationEndpoint,this.buildQueryString()].join("?"),g=this.config.cordova?this.popup.open(f,this.defaults.name,this.defaults.popupOptions).eventListener(this.defaults.redirectUri):this.popup.open(f,this.defaults.name,this.defaults.popupOptions).pollPopup(),g.mergeMap(function(a){if("token"===e.defaults.responseType||!e.defaults.url)return a;if(a.state&&a.state!==e.storage.get(h))throw'OAuth "state" mismatch';return e.exchangeForToken(a,c)})},a.prototype.exchangeForToken=function(a,b){var c=this,e=d.extend({},b);Object.keys(this.defaults.responseParams).forEach(function(b){switch(b){case"code":e[c.defaults.responseParams[b]]=a.code;break;case"clientId":e[c.defaults.responseParams[b]]=c.defaults.clientId;break;case"redirectUri":e[c.defaults.responseParams[b]]=c.defaults.redirectUri;break;default:e[c.defaults.responseParams[b]]=a[b]}}),a.state&&(e.state=a.state);var f=this.config.baseUrl?d.joinUrl(this.config.baseUrl,this.defaults.url):this.defaults.url;return this.http.post(f,JSON.stringify(e))},a.prototype.buildQueryString=function(){var a=this,b=[],c=["defaultUrlParams","requiredUrlParams","optionalUrlParams"];return c.forEach(function(c){a.defaults[c]&&a.defaults[c].forEach(function(c){var e=d.camelCase(c),f="function"==typeof a.defaults[c]?a.defaults[c]():a.defaults[e];if("state"===c){var g=a.defaults.name+"_state";f=encodeURIComponent(a.storage.get(g))}"scope"===c&&Array.isArray(f)&&(f=f.join(a.defaults.scopeDelimiter),a.defaults.scopePrefix&&(f=[a.defaults.scopePrefix,f].join(a.defaults.scopeDelimiter))),b.push([c,f])})}),b.map(function(a){return a.join("=")}).join("&")},a.base={defaultUrlParams:["response_type","client_id","redirect_uri"],responseType:"code",responseParams:{code:"code",clientId:"clientId",redirectUri:"redirectUri"}},a=i([b.Injectable(),j("design:paramtypes",[c.Http,f.Popup,g.Storage,e.Config])],a)}(),a("Oauth2",h)}}}),a.register("c",["6","f","5","4","10","11","12","13","14"],function(a){var b,c,d,e,f,g=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},h=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0};return{setters:[function(a){b=a},function(a){c=a},function(a){d=a},function(a){e=a},function(a){},function(a){},function(a){},function(a){},function(a){}],execute:function(){f=function(){function a(a){this.config=a,this.url="",this.popupWindow=null}return a.prepareOptions=function(a){a=a||{};var b=a.width||500,c=a.height||500;return d.extend({width:b,height:c,left:window.screenX+(window.outerWidth-b)/2,top:window.screenY+(window.outerHeight-c)/2.5},a)},a.stringifyOptions=function(a){return Object.keys(a).map(function(b){return b+"="+a[b]}).join(",")},a.parseQueryString=function(a){var b,c;return a.split("&").reduce(function(a,d){return d&&(c=d.split("="),b=decodeURIComponent(c[0]),a[b]="undefined"!=typeof c[1]?decodeURIComponent(c[1]):!0),a},{})},a.prototype.open=function(b,c,d){this.url=b;var e=a.stringifyOptions(a.prepareOptions(d)),f=window.navigator.userAgent,g=this.config.cordova||f.indexOf("CriOS")>-1?"_blank":c;return this.popupWindow=window.open(b,g,e),window.popup=this.popupWindow,this.popupWindow&&this.popupWindow.focus&&this.popupWindow.focus(),this},a.prototype.eventListener=function(b){var e=this;return c.Observable.fromEvent(this.popupWindow,"loadstart").concatMap(function(c){if(!e.popupWindow||e.popupWindow.closed)return["Popup Window Closed"];if(0!==c.url.indexOf(b))return[];var f=document.createElement("a");if(f.href=c.url,f.search||f.hash){var g=f.search.substring(1).replace(/\/$/,""),h=f.hash.substring(1).replace(/\/$/,""),i=a.parseQueryString(h),j=a.parseQueryString(g);if(d.extend(j,i),e.popupWindow.close(),j.error)throw j.error;return[j]}return[]}).take(1).takeWhile(function(a){return"Popup Window Closed"!==a})},a.prototype.pollPopup=function(){var b=this;return c.Observable.interval(50).concatMap(function(){if(!b.popupWindow||b.popupWindow.closed)return["Popup Window Closed"];var c=document.location.host,e="";try{e=b.popupWindow.location.host}catch(f){}if(e===c&&(b.popupWindow.location.search||b.popupWindow.location.hash)){var g=b.popupWindow.location.search.substring(1).replace(/\/$/,""),h=b.popupWindow.location.hash.substring(1).replace(/[\/$]/,""),i=a.parseQueryString(h),j=a.parseQueryString(g);if(b.popupWindow.close(),d.extend(j,i),j.error)throw j.error;return[j]}return[]}).take(1).takeWhile(function(a){return"Popup Window Closed"!==a})},a=g([b.Injectable(),h("design:paramtypes",[e.Config])],a)}(),a("Popup",f)}}}),a.register("5",[],function(a){function b(a,b){return Object.keys(b).forEach(function(b){a[b]=a[b]}),a}function c(a,b){if(/^(?:[a-z]+:)?\/\//i.test(b))return b;var c=[a,b].join("/"),d=function(a){return a.replace(/[\/]+/g,"/").replace(/\/\?/g,"?").replace(/\/\#/g,"#").replace(/\:\//g,"://")};return d(c)}function d(a,b){var c={};for(var e in a)a.hasOwnProperty(e)&&(e in b&&"object"==typeof a[e]&&null!==e?c[e]=d(a[e],b[e]):c[e]=a[e]);for(e in b)if(b.hasOwnProperty(e)){if(e in c)continue;c[e]=b[e]}return c}function e(a){return a.replace(/([\:\-\_]+(.))/g,function(a,b,c,d){return d?c.toUpperCase():c})}return a("extend",b),a("joinUrl",c),a("merge",d),a("camelCase",e),{setters:[],execute:function(){}}}),a.register("a",["6","c","7","5","4","e"],function(a){var b,c,d,e,f,g,h=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},i=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0};return{setters:[function(a){b=a},function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){}],execute:function(){g=function(){function a(a,b,c){this.http=a,this.popup=b,this.config=c}return a.prototype.open=function(b,c){var d=this;this.defaults=e.extend(b,a.base);var f,g=this.config.baseUrl?e.joinUrl(this.config.baseUrl,this.defaults.url):this.defaults.url;return this.config.cordova||(f=this.popup.open("",this.defaults.name,this.defaults.popupOptions)),this.http.post(g,JSON.stringify(this.defaults)).mergeMap(function(a){return d.config.cordova?f=d.popup.open([d.defaults.authorizationEndpoint,d.buildQueryString(a.json())].join("?"),d.defaults.name,d.defaults.popupOptions):f.popupWindow.location=[d.defaults.authorizationEndpoint,d.buildQueryString(a.json())].join("?"),d.config.cordova?f.eventListener(d.defaults.redirectUri):f.pollPopup()}).mergeMap(function(a){return d.exchangeForToken(a,c)})},a.prototype.exchangeForToken=function(a,b){var c=e.extend({},b);e.extend(c,a);var d=this.config.baseUrl?e.joinUrl(this.config.baseUrl,this.defaults.url):this.defaults.url;return this.http.post(d,c)},a.prototype.buildQueryString=function(a){return Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(a[b])}).join("&")},a.base={url:null,name:null,popupOptions:null,redirectUri:null,authorizationEndpoint:null},a=h([b.Injectable(),i("design:paramtypes",[d.Http,c.Popup,f.Config])],a)}(),a("Oauth1",g)}}}),a.register("15",["6","7","3","2","9","c","b","a","d","4","16"],function(a){function b(a){return[c.provide(l.Config,{useFactory:function(){return new l.Config(a)}}),c.provide(k.Storage,{useFactory:function(a){return new k.Storage(a)},deps:[l.Config]}),c.provide(e.Shared,{useFactory:function(a,b){return new e.Shared(a,b)},deps:[k.Storage,l.Config]}),c.provide(m.JwtHttp,{useFactory:function(a,b,c,d,e){return new m.JwtHttp(a,b,c,d)},deps:[d.XHRBackend,d.RequestOptions,e.Shared,l.Config]}),c.provide(g.Oauth,{useFactory:function(a,b,c,d){return new g.Oauth(a,b,c,d)},deps:[m.JwtHttp,c.Injector,e.Shared,l.Config]}),c.provide(h.Popup,{useFactory:function(a){return new h.Popup(a)},deps:[l.Config]}),c.provide(j.Oauth1,{useFactory:function(a,b,c){return new j.Oauth1(a,b,c)},deps:[m.JwtHttp,h.Popup,l.Config]}),c.provide(i.Oauth2,{useFactory:function(a,b,c,d){return new i.Oauth2(a,b,c,d)},deps:[m.JwtHttp,h.Popup,k.Storage,l.Config]}),c.provide(f.Local,{useFactory:function(a,b,c){return new f.Local(a,b,c)},deps:[m.JwtHttp,e.Shared,l.Config]}),c.provide(n,{useFactory:function(a,b,c){return new n(a,b,c)},deps:[e.Shared,f.Local,g.Oauth]})]}var c,d,e,f,g,h,i,j,k,l,m,n,o=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},p=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0};return a("NG2_UI_AUTH_PROVIDERS",b),{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a},function(a){i=a},function(a){j=a},function(a){k=a},function(a){l=a},function(a){m=a}],execute:function(){n=function(){function a(a,b,c){this.shared=a,this.local=b,this.oauth=c}return a.prototype.login=function(a,b){return this.local.login(a,b)},a.prototype.signup=function(a,b){return this.local.signup(a,b)},a.prototype.logout=function(){return this.shared.logout()},a.prototype.authenticate=function(a,b){return this.oauth.authenticate(a,b)},a.prototype.link=function(a,b){return this.oauth.authenticate(a,b)},a.prototype.unlink=function(a,b){return this.oauth.unlink(a,b)},a.prototype.isAuthenticated=function(){return this.shared.isAuthenticated()},a.prototype.getToken=function(){return this.shared.getToken()},a.prototype.setToken=function(a){this.shared.setToken(a)},a.prototype.removeToken=function(){this.shared.removeToken()},a.prototype.getPayload=function(){return this.shared.getPayload()},a.prototype.setStorageType=function(a){this.shared.setStorageType(a)},a.prototype.getExpirationDate=function(){return this.shared.getExpirationDate()},a=o([c.Injectable(),p("design:paramtypes",[e.Shared,f.Local,g.Oauth])],a)}(),a("Auth",n)}}}),a.register("4",["6"],function(a){var b,c,d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0};return{setters:[function(a){b=a}],execute:function(){c=function(){function a(a){var b=this;this.tokenRoot=null,this.cordova=!1,this.baseUrl="/",this.loginUrl="/auth/login",this.signupUrl="/auth/signup",this.unlinkUrl="/auth/unlink/",this.tokenName="token",this.tokenSeparator="_",this.tokenPrefix="ng2-ui-auth",this.authHeader="Authorization",this.authToken="Bearer",this.storageType="localStorage",this.defaultHeaders=null,this.providers={facebook:{name:"facebook",url:"/auth/facebook",authorizationEndpoint:"https://www.facebook.com/v2.5/dialog/oauth",redirectUri:window.location.origin+"/",requiredUrlParams:["display","scope"],scope:["email"],scopeDelimiter:",",display:"popup",type:"2.0",popupOptions:{width:580,height:400}},google:{name:"google",url:"/auth/google",authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",redirectUri:window.location.origin,requiredUrlParams:["scope"],optionalUrlParams:["display"],scope:["profile","email"],scopePrefix:"openid",scopeDelimiter:" ",display:"popup",type:"2.0",popupOptions:{width:452,height:633}},github:{name:"github",url:"/auth/github",authorizationEndpoint:"https://github.com/login/oauth/authorize",redirectUri:window.location.origin,optionalUrlParams:["scope"],scope:["user:email"],scopeDelimiter:" ",type:"2.0",popupOptions:{width:1020,height:618}},instagram:{name:"instagram",url:"/auth/instagram",authorizationEndpoint:"https://api.instagram.com/oauth/authorize",redirectUri:window.location.origin,requiredUrlParams:["scope"],scope:["basic"],scopeDelimiter:"+",type:"2.0"},linkedin:{name:"linkedin",url:"/auth/linkedin",authorizationEndpoint:"https://www.linkedin.com/uas/oauth2/authorization",redirectUri:window.location.origin,requiredUrlParams:["state"],scope:["r_emailaddress"],scopeDelimiter:" ",state:"STATE",type:"2.0",popupOptions:{width:527,height:582}},twitter:{name:"twitter",url:"/auth/twitter",authorizationEndpoint:"https://api.twitter.com/oauth/authenticate",redirectUri:window.location.origin,type:"1.0",popupOptions:{width:495,height:645}},twitch:{name:"twitch",url:"/auth/twitch",authorizationEndpoint:"https://api.twitch.tv/kraken/oauth2/authorize",redirectUri:window.location.origin,requiredUrlParams:["scope"],scope:["user_read"],scopeDelimiter:" ",display:"popup",type:"2.0",popupOptions:{width:500,height:560}},live:{name:"live",url:"/auth/live",authorizationEndpoint:"https://login.live.com/oauth20_authorize.srf",redirectUri:window.location.origin,requiredUrlParams:["display","scope"],scope:["wl.emails"],scopeDelimiter:" ",display:"popup",type:"2.0",popupOptions:{width:500,height:560}},yahoo:{name:"yahoo",url:"/auth/yahoo",authorizationEndpoint:"https://api.login.yahoo.com/oauth2/request_auth",redirectUri:window.location.origin,scope:[],scopeDelimiter:",",type:"2.0",popupOptions:{width:559,height:519}},bitbucket:{name:"bitbucket",url:"/auth/bitbucket",authorizationEndpoint:"https://bitbucket.org/site/oauth2/authorize",redirectUri:window.location.origin+"/",requiredUrlParams:["scope"],scope:["email"],scopeDelimiter:",",type:"2.0",popupOptions:{width:1028,height:529}}},Object.keys(a).forEach(function(c){"providers"!==c?b[c]=a[c]:Object.keys(a[c]).forEach(function(c){"undefined"==typeof b.providers[c]?b.providers[c]=a.providers[c]:Object.keys(a.providers[c]).forEach(function(d){b.providers[c][d]=a.providers[c][d]})})})}return a=d([b.Injectable(),e("design:paramtypes",[Object])],a)}(),a("Config",c)}}}),a.register("d",["6","4"],function(a){var b,c,d,e=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},f=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0};return{setters:[function(a){b=a},function(a){c=a}],execute:function(){d=function(){function a(a){var b=this;this.config=a,this.store={},this.isStorageAvailable=function(){try{var c=a.storageType in window&&null!==window[a.storageType];if(c){var d=Math.random().toString(36).substring(7);window[b.config.storageType].setItem(d,""),window[b.config.storageType].removeItem(d)}return c}catch(e){return!1}}(),this.isStorageAvailable||console.warn(a.storageType+" is not available.")}return a.prototype.get=function(a){return this.isStorageAvailable?window[this.config.storageType].getItem(a):this.store[a]},a.prototype.set=function(a,b){return this.isStorageAvailable?window[this.config.storageType].setItem(a,b):this.store[a]=b},a.prototype.remove=function(a){return this.isStorageAvailable?window[this.config.storageType].removeItem(a):delete this.store[a]},a=e([b.Injectable(),f("design:paramtypes",[c.Config])],a)}(),a("Storage",d)}}}),a.register("3",["f","6","4","d"],function(a){var b,c,d,e,f,g=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},h=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0};return{setters:[function(a){b=a},function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(a,b){this.storage=a,this.config=b,this.tokenName=this.config.tokenPrefix?[this.config.tokenPrefix,this.config.tokenName].join(this.config.tokenSeparator):this.config.tokenName}return a.prototype.getToken=function(){return this.storage.get(this.tokenName)},a.prototype.getPayload=function(){var a=this.getToken();if(a&&3===a.split(".").length)try{var b=a.split(".")[1],c=b.replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(decodeURIComponent(encodeURIComponent(window.atob(c))))}catch(d){return}},a.prototype.setToken=function(a){if(!a)return void console.warn("Can't set token without passing a value");var b;if("string"==typeof a)b=a;else{var c,d=a&&a.json()&&(a.json().access_token||a.json().token);if(d&&("object"==typeof d&&"object"==typeof d.data?c=d:"string"==typeof d&&(b=d)),!b&&c){var e=this.config.tokenRoot&&this.config.tokenRoot.split(".").reduce(function(a,b){return a[b]},c.data);b=e?e[this.config.tokenName]:c.data[this.config.tokenName]}if(!b){var f=this.config.tokenRoot?this.config.tokenRoot+"."+this.config.tokenName:this.config.tokenName;return void console.warn('Expecting a token named "'+f)}}this.storage.set(this.tokenName,b)},a.prototype.removeToken=function(){this.storage.remove(this.tokenName)},a.prototype.isAuthenticated=function(){var a=this.getToken();if(a){if(3===a.split(".").length)try{var b=a.split(".")[1],c=b.replace(/-/g,"+").replace(/_/g,"/"),d=JSON.parse(window.atob(c)).exp;if(d){var e=Math.round((new Date).getTime()/1e3)>=d;return e?(this.storage.remove(this.tokenName),!1):!0}}catch(f){return!0}return!0}return!1},a.prototype.getExpirationDate=function(){var a=this.getPayload();if(a.exp&&Math.round((new Date).getTime()/1e3)<a.exp){var b=new Date(0);return b.setUTCSeconds(a.exp),b}return null},a.prototype.logout=function(){return this.storage.remove(this.tokenName),b.Observable.create(function(a){a.next(),a.complete()})},a.prototype.setStorageType=function(a){this.config.storageType=a},a=g([c.Injectable(),h("design:paramtypes",[e.Storage,d.Config])],a)}(),a("Shared",f)}}}),a.register("16",["6","7","4","3"],function(a){var b,c,d,e,f,g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},h=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},i=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0};return{setters:[function(a){b=a},function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=function(a){function f(b,c,d,e){a.call(this,b,c),this._shared=d,this._config=e}return g(f,a),f.prototype.request=function(b,d){return this._shared.isAuthenticated()&&(b instanceof c.Request?(b.headers=b.headers||new c.Headers,this.setHeaders(b)):(d=d||{},this.setHeaders(d))),a.prototype.request.call(this,b,d)},f.prototype.get=function(a,b){return b=b||{},b.method=c.RequestMethod.Get,this.request(a,b)},f.prototype.post=function(a,b,d){return d=d||{},d.method=c.RequestMethod.Post,d.body=b,this.request(a,d)},f.prototype.put=function(a,b,d){return d=d||{},d.method=c.RequestMethod.Put,d.body=b,this.request(a,d)},f.prototype["delete"]=function(a,b){return b=b||{},b.method=c.RequestMethod.Delete,this.request(a,b)},f.prototype.patch=function(a,b,d){return d=d||{},d.method=c.RequestMethod.Patch,d.body=b,this.request(a,d)},f.prototype.head=function(a,b){return b=b||{},b.method=c.RequestMethod.Head,this.request(a,b)},f.prototype.setHeaders=function(a){var b=this;a.headers=a.headers||new c.Headers,this._config.defaultHeaders&&Object.keys(this._config.defaultHeaders).forEach(function(c){a.headers.has(c)||a.headers.set(c,b._config.defaultHeaders[c])}),a.headers.set(this._config.authHeader,this._config.authToken+" "+this._shared.getToken())},f=h([b.Injectable(),i("design:paramtypes",[c.ConnectionBackend,c.RequestOptions,e.Shared,d.Config])],f)}(c.Http),a("JwtHttp",f)}}}),a.register("1",["15","4","3","16"],function(a){return{setters:[function(b){a({Auth:b.Auth,NG2_UI_AUTH_PROVIDERS:b.NG2_UI_AUTH_PROVIDERS})},function(b){a({Config:b.Config})},function(b){a({Shared:b.Shared})},function(b){a({JwtHttp:b.JwtHttp})}],execute:function(){}}})})(function(a){module.exports=a(require("angular2/core"),require("angular2/http"),require("rxjs/Observable"),require("rxjs/add/operator/map"),require("rxjs/add/operator/mergeMap"),require("rxjs/add/observable/interval"),require("rxjs/add/observable/fromEvent"),require("rxjs/add/operator/concatMap"),require("rxjs/add/operator/take"),require("rxjs/add/operator/takeWhile"))});
//# sourceMappingURL=ng2-ui-auth.min.js.map